(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{279:function(e,t,a){},400:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=400},433:function(e,t,a){e.exports=a.p+"static/media/favicon_source.458ed253.png"},435:function(e,t,a){e.exports=a.p+"static/media/avatar.57a3e864.png"},452:function(e,t,a){e.exports=a(713)},713:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),l=a.n(r),o=a(735),s=a(741),c=a(85),d=a(37),m=a(19),u=a(137),p=a(244),E=a(155),h=a(280),g=a(734),f=a(67),S=a(433),b=a.n(S),v=a(78),w=a(79),O=a(83),C=a(82),y=a(71),I=function(e){Object(O.a)(a,e);var t=Object(C.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return i.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ZMS Education & Technology ",(new Date).getFullYear(),".")}}]),a}(i.a.Component),R=(a(279),a(16)),x=a.n(R),N=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://zmsedu.com/img/bannersmall.jpeg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function A(){var e=N(),t=Object(d.f)();Object(n.useEffect)((function(){var e=l.charAt(0).toUpperCase()+l.slice(1);console.log(e),localStorage.setItem("Username",e),localStorage.setItem("TOKEN",U),console.log("".concat(T)),"success"==="".concat(T)&&"Admin"==="".concat(C)?(document.getElementById("message").innerHTML="".concat(T),t.push("/admin/dashboard/home")):"not_logged_in"==="".concat(T)?document.getElementById("message").innerHTML="":document.getElementById("message").innerHTML="Wrong Username or Password"}));var a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],s=r[1],c=Object(n.useState)(""),f=Object(m.a)(c,2),S=f[0],v=f[1],w=Object(n.useState)(""),O=Object(m.a)(w,2),C=O[0],R=O[1],A=Object(n.useState)("not_logged_in"),D=Object(m.a)(A,2),T=D[0],j=D[1],L=Object(n.useState)(""),_=Object(m.a)(L,2),U=_[0],k=_[1];return i.a.createElement(g.a,{container:!0,component:"main",className:e.root},i.a.createElement(o.a,null),i.a.createElement(g.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),i.a.createElement(g.a,{item:!0,xs:12,sm:8,md:5,component:E.a,elevation:6,square:!0},i.a.createElement("div",{className:e.paper},i.a.createElement("img",{src:b.a,align:"center",alt:"logo",width:"100"}),i.a.createElement(h.a,{mt:5,align:"center"},i.a.createElement(y.a,null,"Admin Login")),i.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var t={USERNAME:l,PASSWORD:S};x.a.post("https://zmsedu.com/api/login",t).then((function(e){console.log(e.data),k(e.data.TOKEN),R(e.data.ROLE),j(e.data.RESULT)})).catch((function(e){j("Wrong Username or Password")}))}},i.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:l,onChange:function(e){return s(e.target.value)},id:"username",label:"Username",name:"u",autoComplete:"name",autoFocus:!0}),i.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:S,onChange:function(e){return v(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),i.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Log in"),i.a.createElement(h.a,{align:"center"},i.a.createElement(y.a,{style:{color:"red"},id:"message"})),i.a.createElement(h.a,{mt:5},i.a.createElement(I,null))))))}var D=a(23),T=a(54),j=a(739),L=a(738),_=a(308),U=a(436),k=a.n(U),M=a(86),B=a(189),z=a(2),P=a(437),F=a.n(P),H=a(722),Y=a(737),W=a(380),G=a(110),X=a(55),K=a(746),q=a(721),Z=a(435),J=a.n(Z);function V(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){r(localStorage.getItem("Username"))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(q.a,null,i.a.createElement("div",null,i.a.createElement(H.a,null,i.a.createElement(Y.a,null,i.a.createElement(K.a,{alt:a,src:J.a})),i.a.createElement(W.a,{primary:a})),i.a.createElement(c.b,{to:"/admin/dashboard/courses",className:"custom-link-normal"},i.a.createElement(H.a,{button:!0},i.a.createElement(Y.a,null,i.a.createElement(G.a,{icon:X.b,size:"2x"})),i.a.createElement(W.a,{primary:"Courses"}))),i.a.createElement(c.b,{to:"/admin/dashboard/syllabus",className:"custom-link-normal"},i.a.createElement(H.a,{button:!0},i.a.createElement(Y.a,null,i.a.createElement(G.a,{icon:X.e,size:"2x"})),i.a.createElement(W.a,{primary:"Syllabus"}))),i.a.createElement(c.b,{to:"/admin/dashboard/class",className:"custom-link-normal"},i.a.createElement(H.a,{button:!0},i.a.createElement(Y.a,null,i.a.createElement(G.a,{icon:X.f,size:"2x"})),i.a.createElement(W.a,{primary:"Class"}))),i.a.createElement(c.b,{to:"/admin/dashboard/lessons",className:"custom-link-normal"},i.a.createElement(H.a,{button:!0},i.a.createElement(Y.a,null,i.a.createElement(G.a,{icon:X.a,size:"2x"})),i.a.createElement(W.a,{primary:"Lessons"}))),i.a.createElement(c.b,{to:"/admin/dashboard/students",className:"custom-link-normal"},i.a.createElement(H.a,{button:!0},i.a.createElement(Y.a,null,i.a.createElement(G.a,{icon:X.h,size:"2x"})),i.a.createElement(W.a,{primary:"Users"}))),i.a.createElement(c.b,{to:"/admin/dashboard/analytics",className:"custom-link-normal"},i.a.createElement(H.a,{button:!0},i.a.createElement(Y.a,null,i.a.createElement(G.a,{icon:X.c,size:"2x"})),i.a.createElement(W.a,{primary:"Analytics"}))))),i.a.createElement(q.a,null,i.a.createElement("div",null,i.a.createElement(c.b,{to:"/admin/",className:"custom-link-normal"},i.a.createElement(H.a,{button:!0},i.a.createElement(Y.a,null,i.a.createElement(G.a,{icon:X.g,size:"2x"})),i.a.createElement(W.a,{primary:"Log Out"}))))))}var Q=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function $(){var e=Q(),t=i.a.useState(!0),a=Object(m.a)(t,2),n=a[0],r=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{position:"absolute",className:Object(z.a)(e.appBar,n&&e.appBarShift)},i.a.createElement(_.a,{className:e.toolbar},i.a.createElement(B.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},className:Object(z.a)(e.menuButton,n&&e.menuButtonHidden)},i.a.createElement(k.a,null)),i.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"ZMS Admin Portal"))),i.a.createElement(M.a,{variant:"permanent",classes:{paper:Object(z.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n},i.a.createElement("div",{className:e.toolbarIcon},i.a.createElement(B.a,{onClick:function(){r(!1)}},i.a.createElement(F.a,null))),i.a.createElement(V,null)))}var ee=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function te(){var e=ee();return i.a.createElement("div",{className:e.root},i.a.createElement(o.a,null),i.a.createElement($,null),i.a.createElement("main",{className:e.content,style:{backgroundColor:"#eee"}},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(j.a,{maxWidth:"lg",className:e.container},i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12,md:8,lg:6}),i.a.createElement(g.a,{item:!0,xs:12,md:4,lg:6}),i.a.createElement(g.a,{item:!0,xs:12})),i.a.createElement(h.a,{pt:4},i.a.createElement(I,null)))))}var ae=a(193),ne=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function ie(){var e=ne();return i.a.createElement("div",{className:e.root},i.a.createElement(o.a,null),i.a.createElement($,null),i.a.createElement("main",{className:e.content,style:{backgroundColor:"#eee"}},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(j.a,{maxWidth:"lg",className:e.container},i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(E.a,{className:e.paper},i.a.createElement(y.a,{variant:"h5",component:"h2"},"Click Count"),i.a.createElement("p",null,"This is the total count of how many times visitors click on the Course links and read the descriptions for each course."),i.a.createElement(ae.a,{url:"https://zmsedu.com/analysis/iframe_bar.html",width:"100%",height:"600px",id:"myId",frameBorder:"0",className:"myClassname",display:"initial",position:"relative"}))),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(E.a,{className:e.paper},i.a.createElement(y.a,{variant:"h5",component:"h2"},"Page Visit Count"),i.a.createElement("p",null,"Counting is done every time the launchpage (https://zmsedu.com/) is loaded on any device. Data is shown for last 30 days."),i.a.createElement(ae.a,{url:"https://zmsedu.com/analysis/iframe_chart.html",width:"100%",height:"600px",id:"myId",frameBorder:"0",className:"myClassname",display:"initial",position:"relative"}))),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(E.a,{className:e.paper},i.a.createElement(ae.a,{url:"https://zmsedu.com/analysis/iframe_ratio.html",width:"100%",height:"300px",id:"myId",frameBorder:"0",className:"myClassname",display:"initial",position:"relative"}))),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(E.a,{className:e.paper},i.a.createElement(y.a,{variant:"h5",component:"h2"},"Server Log"),i.a.createElement("p",null,"This is the list of activities the users perform on the launchpage. Scroll down to see more."),i.a.createElement(ae.a,{url:"https://zmsedu.com/analysis/iframe_server.html",width:"100%",height:"600px",id:"myId",frameBorder:"0",className:"myClassname",display:"initial",position:"relative"})))),i.a.createElement(h.a,{pt:4},i.a.createElement(I,null)))))}var re=a(106),le=a.n(re);var oe=function(e){var t=i.a.useState,a=t([{title:"Username",field:"USERNAME"},{title:"First Name",field:"FIRST_NAME"},{title:"Last Name",field:"LAST_NAME"},{title:"Phone",field:"PHONE"},{title:"Email",field:"EMAIL"},{title:"Role",field:"ROLE",lookup:{Teacher:"Teacher",Student:"Student",Admin:"Admin"}}]),r=Object(m.a)(a,2),l=r[0],o=(r[1],t({users:[]})),s=Object(m.a)(o,2),c=s[0],d=s[1];return Object(n.useEffect)((function(){x.a.post("https://zmsedu.com/api/admin/user/get",{}).then((function(e){var t=e.data.USERS;d({users:t}),console.log("Adding",c)})).catch((function(e){alert(e)}))}),[]),i.a.createElement(le.a,{title:"Users",columns:l,data:c.users,localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},toolbar:{nRowsSelected:"{0} row(s) selected"},header:{actions:"Actions"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Type in something to filter results."}}},options:{filtering:!0,pageSize:20,actionsColumnIndex:-1},editable:{onRowUpdate:function(e,t){return new Promise((function(t,a){console.log(e.USERNAME),console.log("Old Data",c),x.a.post("https://zmsedu.com/api/admin/user/edit",{ID:e.ID,USERNAME:e.USERNAME,FIRST_NAME:e.FIRST_NAME,LAST_NAME:e.LAST_NAME,PHONE:e.PHONE,EMAIL:e.EMAIL,ROLE:e.ROLE}).then((function(e){var a=e.data.USERS;d({users:a}),console.log("New Data",c),x.a.post("https://zmsedu.com/api/admin/user/get",{}).then((function(e){var a=e.data.USERS;d({users:a}),console.log(c),t()})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}))}))},onRowDelete:function(e){return new Promise((function(t,a){console.log("Old Data",c),x.a.post("https://zmsedu.com/api/admin/user/delete",{ID:e.ID}).then((function(e){var a=e.data.USERS;d({users:a}),console.log("New Data",c),x.a.post("https://zmsedu.com/api/admin/user/get",{}).then((function(e){var a=e.data.USERS;d({users:a}),console.log(c),t()})).catch((function(e){alert(e)}))})).catch((function(e){alert("This user is added for testing purposes and cannot be deleted. Please contact admin, and reload the page.")}))}))}}})},se=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function ce(){var e=se();return i.a.createElement("div",{className:e.root},i.a.createElement(o.a,null),i.a.createElement($,null),i.a.createElement("main",{className:e.content,style:{backgroundColor:"#eee"}},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(j.a,{maxWidth:"lg",className:e.container},i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(oe,null))),i.a.createElement(h.a,{pt:4},i.a.createElement(I,null)))))}var de=a(440),me=a.n(de);var ue=function(e){return i.a.createElement(me.a,{format:"DD-MMM-YYYY (ddd) hh:mm a"},function(e){var t=e.toString().split("."),n=a(537),i=n.utc(t[0],"").clone().tz(Intl.DateTimeFormat().resolvedOptions().timeZone);return localStorage.setItem("tutordate",n(i).format("hh:mm a")),i}(e.value))},pe=a(317),Ee=a.n(pe),he=a(441),ge=a.n(he),fe=a(236),Se=function(e){Object(O.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={selectedFile:""},e.handleInputChange=e.handleInputChange.bind(Object(fe.a)(e)),e}return Object(w.a)(a,[{key:"handleInputChange",value:function(e){this.setState({selectedFile:e.target.files[0]})}},{key:"submit",value:function(){var e=this,t=new FormData;t.append("LESSON_ID",this.props.lessonid),t.append("FILE",this.state.selectedFile),t.append("TOKEN",localStorage.getItem("TOKEN"));var a="https://zmsedu.com/api/admin/homework/upload";x.a.post(a,t,{}).then((function(n){var i=n.data.FILE_ID;a="https://zmsedu.com/api/admin/lesson/get",x.a.post(a,t,{}).then((function(t){console.log("Requested");for(var n=0;n<t.data.LESSONS.length;n++)if(t.data.LESSONS[n].LESSON_ID==e.props.lessonid){var r=t.data.LESSONS[n].EXTRA_MATERIAL;r.push(i),console.log(r),a="https://zmsedu.com/api/admin/lesson/edit",x.a.post(a,{LESSON_ID:e.props.lessonid,EXTRA_MATERIAL:r},{}).then((function(e){console.log(e.data),alert("File Uploaded. Please click Refresh to update the table.")})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6 offset-md-3"},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("h3",{className:"text-white"},"File Upload"),i.a.createElement("br",null),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"form-group col-md-6"},i.a.createElement("label",{className:"text-white"},"Select File :"),i.a.createElement("input",{type:"file",className:"form-control",name:"upload_file",onChange:this.handleInputChange}))),i.a.createElement("br",null),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("button",{type:"submit",className:"btn btn-dark",onClick:function(){return e.submit()}},"Upload"))))))}}]),a}(i.a.Component),be=a(312),ve=a(306),we=a(384),Oe=function(e){Object(O.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={filename:"",lessonid:""},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.setState({filename:this.props.filename,lessonid:this.props.lessonid})}},{key:"handleClick",value:function(e,t,a){x.a.post("https://zmsedu.com/api/student/homework/download",{LESSON_ID:t,FILE_ID:a},{}).then((function(e){})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{onClick:function(){return e.handleClick(e.props.name,e.props.lessonid,e.props.fileid)}},this.props.name)}}]),a}(i.a.Component),Ce=function(e){Object(O.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={filelist:""},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.a.post("https://zmsedu.com/api/admin/homework/get",{},{}).then((function(t){for(var a=0;a<t.data.HOMEWORK.length;a++)t.data.HOMEWORK[a].LESSON_ID==e.props.lessonid&&e.setState({filelist:t.data.HOMEWORK[a].TEACHER_UPLOAD})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("ul",null,void 0==this.state.filelist[0]?"No uploaded files.":this.state.filelist.map((function(t){return i.a.createElement(Oe,{lessonid:e.props.lessonid,fileid:t.FILE_ID,name:t.NAME})}))))}}]),a}(i.a.Component),ye=a(184),Ie=a(28),Re=a(283),xe=a(284);var Ne=function(e){var t=Object(n.useState)([{title:"Date/Time ("+Intl.DateTimeFormat().resolvedOptions().timeZone+" Time)",field:"START_DATETIME",defaultSort:"desc",render:function(e){return i.a.createElement(ue,{value:e.START_DATETIME})}},{title:"Class Name",field:"CLASS_ID"},{title:"Description",field:"TOPIC"},{title:"Zoom ID",field:"LESSON_LINK[ZOOM_LINK]"},{title:"Passcode",field:"LESSON_LINK[PASSCODE]"},{title:"Status",field:"STATUS",lookup:{Complete:i.a.createElement("span",{style:{color:"green"}},"Complete"),Scheduled:i.a.createElement("span",{style:{color:"blue"}},"Scheduled"),Cancelled:i.a.createElement("span",{style:{color:"red"}},"Cancelled")}}]),a=Object(m.a)(t,2),r=a[0],l=(a[1],Object(n.useState)({lessons:[]})),o=Object(m.a)(l,2),s=o[0],c=o[1],d=Object(n.useState)(!1),h=Object(m.a)(d,2),f=h[0],S=h[1],b=Object(n.useState)(!1),v=Object(m.a)(b,2),w=v[0],O=v[1],C=Object(n.useState)("aaaa"),y=Object(m.a)(C,2),I=y[0],R=(y[1],Object(n.useState)("class")),N=Object(m.a)(R,2),A=N[0],T=N[1],j=Object(n.useState)(""),L=Object(m.a)(j,2),_=L[0],U=L[1],k=Object(n.useState)(""),M=Object(m.a)(k,2),B=M[0],z=M[1],P=Object(n.useState)(1),F=Object(m.a)(P,2),H=(F[0],F[1],Object(n.useState)(1)),Y=Object(m.a)(H,2),W=(Y[0],Y[1],Object(n.useState)(2020)),G=Object(m.a)(W,2),X=(G[0],G[1],Object(n.useState)(1)),K=Object(m.a)(X,2),q=(K[0],K[1],Object(n.useState)(1)),Z=Object(m.a)(q,2),J=(Z[0],Z[1],Object(n.useState)("am")),V=Object(m.a)(J,2),Q=(V[0],V[1],Object(n.useState)("")),$=Object(m.a)(Q,2),ee=$[0],te=$[1],ae=Object(n.useState)([]),ne=Object(m.a)(ae,2),ie=ne[0],oe=(ne[1],i.a.useState(new Date)),se=Object(m.a)(oe,2),ce=se[0],de=se[1],me=Object(n.useState)(""),pe=Object(m.a)(me,2),he=pe[0],fe=pe[1],Oe=Object(n.useState)([]),Ne=Object(m.a)(Oe,2),Ae=Ne[0],De=Ne[1],Te=Object(n.useState)(),je=Object(m.a)(Te,2),Le=(je[0],je[1],"https://zmsedu.com/api/admin/lesson/edit"),_e=function(){x.a.post("https://zmsedu.com/api/admin/lesson/get",{}).then((function(e){var t=e.data.LESSONS;c({lessons:t}),console.log("Refreshed")})).catch((function(e){alert(e)}))};Object(n.useEffect)((function(){_e(),x.a.post("https://zmsedu.com/api/admin/class/get",{}).then((function(e){for(var t=e.data.CLASS,a=[],n=0;n<t.length;n++)a.push(t[n].CLASS_ID);De(a)})).catch((function(e){alert(e)}))}),[]);var Ue,ke=function(e){de(e)},Me=i.a.createElement(i.a.Fragment,null);!0===w&&(Me=i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{style:{padding:20}},i.a.createElement("h3",null,"Add New Class"),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:4},i.a.createElement("br",null),i.a.createElement(ve.a,{id:"demo-simple-select-label"},"Class"),i.a.createElement(be.a,{style:{width:"100%",marginBottom:0,paddingBottom:0},labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:A,onChange:function(e){return T(e.target.value)}},i.a.createElement(we.a,{value:"class",disabled:!0},"Choose Class"),Ae.map((function(e){return i.a.createElement(we.a,{value:e},e)})))),i.a.createElement(g.a,{item:!0,xs:4},i.a.createElement(Ie.a,{utils:ye.default},i.a.createElement(Re.b,{margin:"normal",id:"date-picker-dialog",label:"Choose Date",format:"MM/dd/yyyy",value:ce,onChange:ke,KeyboardButtonProps:{"aria-label":"change date"}}))),i.a.createElement(g.a,{item:!0,xs:4},i.a.createElement(Ie.a,{utils:ye.default},i.a.createElement(xe.a,{margin:"normal",id:"time-picker",label:"Choose Time",value:ce,onChange:ke,KeyboardButtonProps:{"aria-label":"change time"}})))),i.a.createElement("br",null),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(p.a,{id:"outlined-basic",style:{width:"100%"},label:"Description",variant:"outlined",value:ee,onChange:function(e){return te(e.target.value)}})),i.a.createElement(g.a,{item:!0,xs:3},i.a.createElement(p.a,{id:"outlined-basic",style:{width:"100%"},label:"ZOOM ID",variant:"outlined",value:_,onChange:function(e){return U(e.target.value)}})),i.a.createElement(g.a,{item:!0,xs:3},i.a.createElement(p.a,{id:"outlined-basic",style:{width:"100%"},label:"ZOOM Passcode",variant:"outlined",value:B,onChange:function(e){return z(e.target.value)}}))),i.a.createElement("br",null),i.a.createElement(u.a,(Ue={variant:"contained",color:"primary"},Object(D.a)(Ue,"variant","outlined"),Object(D.a)(Ue,"startIcon",i.a.createElement(Ee.a,null)),Object(D.a)(Ue,"onClick",(function(){O(!1),function(){if(""==A||""==_||""==B||""==ee)alert("Please fill in all information to add a new lesson."),O(!0);else{var e=_.replace(/ /g,""),t={LESSON_ID:I,CLASS_ID:A,LESSON_LINK:{ZOOM_LINK:e,PASSCODE:B},STATUS:"Scheduled",START_DATETIME:ce,TOPIC:ee,EXTRA_MATERIAL:ie};console.log(t),x.a.post("https://zmsedu.com/api/admin/lesson/add",t).then((function(e){_e(),T(""),U(""),z(""),te(""),console.log("Refreshed")})).catch((function(e){alert(e)}))}}()})),Ue),"Add")),i.a.createElement("br",null)));var Be=i.a.createElement(i.a.Fragment,null);return!0===f&&(Be=i.a.createElement(i.a.Fragment,null,i.a.createElement(Se,{lessonid:he}))),i.a.createElement("div",{style:{maxWidth:"100%"}},Me,i.a.createElement(le.a,{components:{Toolbar:function(e){var t,a;return i.a.createElement("div",{style:{padding:20}},i.a.createElement(re.MTableToolbar,e),i.a.createElement("p",null,"You are in "+Intl.DateTimeFormat().resolvedOptions().timeZone+". All time here is adjusted to display your local time."),i.a.createElement("br",null),i.a.createElement(u.a,(t={variant:"contained",color:"primary"},Object(D.a)(t,"variant","outlined"),Object(D.a)(t,"startIcon",i.a.createElement(Ee.a,null)),Object(D.a)(t,"onClick",(function(){O(!0)})),t),"Add Lesson"),i.a.createElement(u.a,(a={variant:"contained",color:"primary"},Object(D.a)(a,"variant","outlined"),Object(D.a)(a,"startIcon",i.a.createElement(ge.a,null)),Object(D.a)(a,"style",{marginLeft:10}),Object(D.a)(a,"onClick",(function(){_e(),S(!1)})),a),"Refresh"),i.a.createElement("br",null),Be)}},columns:r,data:s.lessons,title:"Lessons",localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},toolbar:{nRowsSelected:"{0} row(s) selected"},header:{actions:"Actions"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Type in something to filter results."}}},options:{sorting:!0,filtering:!0,pageSize:20,actionsColumnIndex:-1},actions:[{icon:"cloud_upload",tooltip:"Upload Material",onClick:function(e,t){fe(t.LESSON_ID),S(!0)}},{icon:"done",tooltip:"Mark as Complete",onClick:function(e,t){x.a.post(Le,{LESSON_ID:t.LESSON_ID,STATUS:"Complete"}).then((function(e){_e(),console.log("Refreshed")})).catch((function(e){alert(e)}))}},{icon:"highlight_off",tooltip:"Cancel Class",onClick:function(e,t){x.a.post(Le,{LESSON_ID:t.LESSON_ID,STATUS:"Cancelled"}).then((function(e){_e(),console.log("Refreshed")})).catch((function(e){alert(e)}))}}],detailPanel:function(e){return i.a.createElement(Ce,{lessonid:e.LESSON_ID})},editable:{onRowDelete:function(e){return new Promise((function(t,a){x.a.post("https://zmsedu.com/api/admin/lesson/delete",{LESSON_ID:e.LESSON_ID}).then((function(e){_e(),console.log("Refreshed"),t()})).catch((function(e){alert(e)}))}))}}}))},Ae=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function De(){var e=Ae();return i.a.createElement("div",{className:e.root},i.a.createElement(o.a,null),i.a.createElement($,null),i.a.createElement("main",{className:e.content,style:{backgroundColor:"#eee"}},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(j.a,{maxWidth:"lg",className:e.container},i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(Ne,null))),i.a.createElement(h.a,{pt:4},i.a.createElement(I,null)))))}var Te=function(e){var t=i.a.useState,a="https://zmsedu.com/api/admin/course/get",r=t([{title:"ID",field:"ID"},{title:"Name",field:"NAME"},{title:"Subject",field:"SUBJECT",lookup:{STEM:"STEM","Humanities / Social Sciences":"Humanities / Social Sciences","Business / Finance":"Business / Finance","Other Specialties":"Other Specialties"}},{title:"DESCRIPTION",field:"DESCRIPTION"}]),l=Object(m.a)(r,2),o=l[0],s=(l[1],t({courses:[]})),c=Object(m.a)(s,2),d=c[0],u=c[1];return Object(n.useEffect)((function(){x.a.post(a,{}).then((function(e){var t=e.data.COURSES;u({courses:t})})).catch((function(e){alert(e)}))}),[]),i.a.createElement("div",null,i.a.createElement(le.a,{columns:o,data:d.courses,title:"Courses",localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},toolbar:{nRowsSelected:"{0} row(s) selected"},header:{actions:"Actions"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Type in something to filter results."}}},options:{filtering:!0,pageSize:20,actionsColumnIndex:-1},editable:{onRowAdd:function(e){return new Promise((function(t,n){x.a.post("https://zmsedu.com/api/admin/course/add",{ID:e.ID,NAME:e.NAME,SUBJECT:e.SUBJECT,DESCRIPTION:e.DESCRIPTION}).then((function(e){var n=e.data.COURSES;u({courses:n}),x.a.post(a,{}).then((function(e){var a=e.data.COURSES;u({courses:a}),t()})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}))}))},onRowUpdate:function(e,t){return new Promise((function(n,i){x.a.post("https://zmsedu.com/api/admin/course/edit",{ID:t.ID,NAME:e.NAME,SUBJECT:e.SUBJECT,DESCRIPTION:e.DESCRIPTION}).then((function(e){var t=e.data.COURSES;u({courses:t}),x.a.post(a,{}).then((function(e){var t=e.data.COURSES;u({courses:t}),n()})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}))}))},onRowDelete:function(e){return new Promise((function(t,n){x.a.post("https://zmsedu.com/api/admin/course/delete",{ID:e.ID}).then((function(e){var n=e.data.COURSES;u({courses:n}),x.a.post(a,{}).then((function(e){var a=e.data.COURSES;u({courses:a}),t()})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}))}))}}}))},je=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function Le(){var e=je();return i.a.createElement("div",{className:e.root},i.a.createElement(o.a,null),i.a.createElement($,null),i.a.createElement("main",{className:e.content,style:{backgroundColor:"#eee"}},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(j.a,{maxWidth:"lg",className:e.container},i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(E.a,{style:{padding:20,paddingTop:30,marginBottom:20,color:"red"}},i.a.createElement("p",null," ",i.a.createElement(G.a,{icon:X.d,size:"2x"}),"    - Please note that all courses added must have course ID, and make sure there is no gap between the IDs (i.e. The IDs should go from 1 to 12 without leaving any integers.). ",i.a.createElement("b",null,"Please do not make any changes to ID here unless necessary."))),i.a.createElement(Te,null))),i.a.createElement(h.a,{pt:4},i.a.createElement(I,null)))))}var _e=a(310),Ue=a.n(_e),ke=a(744),Me=(Object(f.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),[]),Be=function(e){Object(O.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({COURSE_ID:e.target.value}),x.a.post("https://zmsedu.com/api/admin/syllabus/get",{}).then((function(e){var t,a=e.data.SYLLABUS;for(n.setState({SELECTED:!0}),t=0;t<a.length;t++)if(a[t].COURSE_ID==n.state.COURSE_ID){var i=n.state.COURSE_ID-1;n.setState({COURSE_NAME:n.state.COURSE_ARRAY[i].NAME}),n.setState({REFERENCE:a[t].REFERENCE[0]})}})).catch((function(e){alert(e)}))},n.updateText=function(e){console.log(e.target.value),n.setState({REFERENCE:e.target.value})},n.submitSyllabus=function(){var e={COURSE_ID:n.state.COURSE_ID,REFERENCE:[n.state.REFERENCE]};x.a.post("https://zmsedu.com/api/admin/syllabus/edit",e).then((function(e){alert("Edit Successful. Now change the dropdown menu to another course if you need to update more syllabus.")})).catch((function(e){alert(e)}))},n.state={COURSE_ARRAY:[],COURSE_ID:1,COURSE_NAME:"",REFERENCE:"",SELECTED:!1},n}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.a.post("https://zmsedu.com/api/admin/course/get",{}).then((function(t){var a=t.data.COURSES;Me=a,e.setState({COURSE_ARRAY:Me})})).catch((function(e){alert(e)}))}},{key:"render",value:function(){var e;return e=this.state.SELECTED?i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,this.state.COURSE_NAME+" Syllabus"),i.a.createElement("p",null,"Please use Markdown language to format the Syllabus as you would do in Microsoft Word. Please refer to ",i.a.createElement("a",{target:"_blank",href:"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet"},"this markdown guide"),"."),i.a.createElement(p.a,{id:"outlined-multiline-static",label:"Type in Syllabus Content for "+this.state.COURSE_NAME,multiline:!0,rows:10,onChange:this.updateText,value:this.state.REFERENCE,variant:"outlined",style:{width:"100%"}}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(u.a,{onClick:this.submitSyllabus,variant:"outlined",color:"primary"},"Update Syllabus"),i.a.createElement("br",null),i.a.createElement("h3",null,"Below shows the preview as student for this syllabus."),i.a.createElement(ke.a,null),i.a.createElement(Ue.a,{text:this.state.REFERENCE})):i.a.createElement("h1",null),i.a.createElement("div",null,i.a.createElement(E.a,{style:{padding:20,paddingTop:30}},i.a.createElement(j.a,null,i.a.createElement(ve.a,{id:"demo-simple-select-label"},"Please select a course to edit the syllabus: "),i.a.createElement("br",null),i.a.createElement(be.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.COURSE_ID,onChange:this.handleChange},this.state.COURSE_ARRAY.map((function(e){return i.a.createElement(we.a,{value:e.ID,key:e.ID},e.NAME)}))),e)))}}]),a}(i.a.Component),ze=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function Pe(){var e=ze();return i.a.createElement("div",{className:e.root},i.a.createElement(o.a,null),i.a.createElement($,null),i.a.createElement("main",{className:e.content,style:{backgroundColor:"#eee"}},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(j.a,{maxWidth:"lg",className:e.container},i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(Be,null))),i.a.createElement(h.a,{pt:4},i.a.createElement(I,null)))))}var Fe=a(442),He=a(431),Ye=a(318),We=a.n(Ye);Object(f.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));function Ge(e){var t={},a=[];for(var n in e.forEach((function(e){t[e]||(t[e]=0),t[e]+=1})),t)t[n]>=2&&a.push(n);return a}var Xe=[],Ke=[],qe=[],Ze=[],Je={},Ve={},Qe={},$e=[],et=[],tt="",at="",nt="",it="",rt="",lt="",ot=function(e){Object(O.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).getteacherdata=function(){$e=[],x.a.post("https://zmsedu.com/api/admin/user/get",{ROLE:"Teacher"}).then((function(e){var t,a=e.data.USERS;for(t=0;t<a.length;t++)Ve[a[t].ID]=a[t].FIRST_NAME+" "+a[t].LAST_NAME,$e.push(a[t].ID)})).catch((function(e){alert(e)}))},n.getstudentdata=function(){et=[],x.a.post("https://zmsedu.com/api/admin/user/get",{ROLE:"Student"}).then((function(e){var t,a=e.data.USERS;for(t=0;t<a.length;t++)Qe[a[t].ID]=a[t].FIRST_NAME+" "+a[t].LAST_NAME,et.push(a[t].ID)})).catch((function(e){alert(e)}))},n.getinitAPIdata=function(){n.getteacherdata(),n.getstudentdata(),x.a.post("https://zmsedu.com/api/admin/course/get",{}).then((function(e){var t=e.data.COURSES;Xe=t,x.a.post("https://zmsedu.com/api/admin/class/get",{}).then((function(e){var t,a=e.data.CLASS;for(Ke=a,n.setState({CLASS_ARRAY:Ke,COURSE_ARRAY:Xe}),t=0;t<n.state.COURSE_ARRAY.length;t++)qe.push(n.state.COURSE_ARRAY[t].NAME),Ze.push(n.state.COURSE_ARRAY[t].ID),Je[n.state.COURSE_ARRAY[t].ID.toString()]=n.state.COURSE_ARRAY[t].NAME;n.setState({CLASS_ARRAY:Ke,COURSE_ARRAY:Xe,COLUMNS:[{title:"Class Name (not editable)",field:"CLASS_ID"},{title:"Course",field:"COURSE_ID",lookup:Je},{title:"# of Students",field:"STUDENTS",type:"numeric",render:function(e){return e.STUDENTS.length}},{title:"Teacher",field:"TEACHER",lookup:Ve},{title:"Schedule",field:"NEXT_DATETIME"}]})})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}))},n.deletestudent=function(e){console.log(lt+" "+Qe[e.target.value]+" "+e.target.value);var t=n.state.DELETESTUDENTS;n.setState({DELETESTUDENTS:[]}),console.log(t);var a=new Set(t);a.delete(e.target.value),console.log(a);var i=Object(Fe.a)(a);console.log(i);var r={CLASS_ID:lt,STUDENTS:i};console.log(r),x.a.post("https://zmsedu.com/api/admin/class/edit",r).then((function(e){alert("User Deleted"),n.getinitAPIdata()})).catch((function(e){alert(e)}))},n.addstudent=function(e){if(""==tt||""==at)alert("Please choose the required fields.");else{var t=[],a={};console.log(a),x.a.post("https://zmsedu.com/api/admin/class/get",a).then((function(e){for(var a=0;a<e.data.CLASS.length;a++){if(e.data.CLASS[a].CLASS_ID==at)(t=e.data.CLASS[a].STUDENTS).push(tt),void 0==Ge(t)[0]?x.a.post("https://zmsedu.com/api/admin/class/edit",{CLASS_ID:at,STUDENTS:t}).then((function(e){alert("Student Added"),n.getinitAPIdata()})).catch((function(e){alert(e)})):alert(Qe[tt]+" is already registered in class "+at)}})).catch((function(e){alert(e)}))}},n.updatestudent=function(e){tt=e.target.value},n.updateclass=function(e){at=e.target.value},n.updatedeleteclass=function(e){""==(lt=e.target.value)?alert("Please choose required fields"):x.a.post("https://zmsedu.com/api/admin/class/get",{}).then((function(e){for(var t=0;t<e.data.CLASS.length;t++)e.data.CLASS[t].CLASS_ID==lt&&n.setState({DELETESTUDENTS:e.data.CLASS[t].STUDENTS})})).catch((function(e){alert(e)}))},n.newcourse=function(e){var t=Je[e.target.value].split(" "),a=t[0],i="";i=null!=t[1]?t[1]:"X";var r=a[0]+i[0]+"-"+function(e){for(var t="",a="x0123456789".length,n=0;n<e;n++)t+="x0123456789".charAt(Math.floor(Math.random()*a));return t}(5);n.setState({classcodetoadd:r}),console.log(r),it=e.target.value,nt=r},n.newteacher=function(e){console.log(),rt=e.target.value},n.updateclassname=function(e){n.setState({classcodetoadd:e.target.value}),nt=n.state.classcodetoadd,console.log(nt)},n.addcourse=function(e){if(nt=n.state.classcodetoadd,console.log(rt+" "+it+" "+nt),""==nt||""==it||""==rt)alert("Please choose the required fields.");else{var t={STUDENTS:[],CLASS_ID:nt,COURSE_ID:it,TEACHER:rt,NEXT_DATETIME:""};console.log(t),x.a.post("https://zmsedu.com/api/admin/class/add",t).then((function(e){nt="",rt="",it="",n.getinitAPIdata(),alert("Course Added")})).catch((function(e){alert(e)}))}},n.state={COURSE_ARRAY:[],CLASS_ARRAY:[],COLUMNS:[],ADD:!1,EDIT:!1,DELETESTUDENTS:[],classcodetoadd:""},n}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.getinitAPIdata()}},{key:"render",value:function(){var e,t,a,n,r,l,o,s=this;return t=i.a.createElement(u.a,(e={variant:"contained",color:"primary",onClick:this.addstudent},Object(D.a)(e,"variant","outlined"),Object(D.a)(e,"style",{width:"100%"}),e),"Add Student"),a=i.a.createElement(u.a,Object(D.a)({variant:"contained",color:"primary",onClick:this.addcourse},"variant","outlined"),"Add Class"),n=i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{style:{padding:20}},i.a.createElement("h3",null,"Add Student to Classes"),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(ve.a,{id:"demo-simple-select-label"},"Add the student"),i.a.createElement(be.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:this.updatestudent,style:{width:"100%"}},et.map((function(e){return i.a.createElement(we.a,{value:e},Qe[e])})))),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(ve.a,{id:"demo-simple-select-label"},"to class"),i.a.createElement(be.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:this.updateclass,style:{width:"100%"}},this.state.CLASS_ARRAY.map((function(e){return i.a.createElement(we.a,{value:e.CLASS_ID},e.CLASS_ID)}))))),i.a.createElement("p",{style:{color:"#fff",padding:7}},"."),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:6}),i.a.createElement(g.a,{item:!0,xs:6},t))),i.a.createElement("br",null)),r=void 0==this.state.DELETESTUDENTS[0]?i.a.createElement(i.a.Fragment,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{item:!0,xs:4},this.state.DELETESTUDENTS.map((function(e){return i.a.createElement(He.a,{style:{margin:5},color:"primary",key:e,value:e,icon:i.a.createElement(We.a,null),label:Qe[e],variant:"outlined"})}))),i.a.createElement(g.a,{item:!0,xs:4},i.a.createElement(ve.a,{id:"demo-simple-select-label"},"Choose student to delete. (Will delete automatically after you select)"),i.a.createElement(be.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:this.deletestudent},this.state.DELETESTUDENTS.map((function(e){return i.a.createElement(we.a,{value:e},Qe[e])}))))),l=i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{style:{padding:20}},i.a.createElement("h3",null,"Remove Students"),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:4},i.a.createElement(ve.a,{id:"demo-simple-select-label"},"Choose Class:"),i.a.createElement(be.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:this.updatedeleteclass},this.state.CLASS_ARRAY.map((function(e){return i.a.createElement(we.a,{value:e.CLASS_ID},Je[e.COURSE_ID]," ",e.CLASS_ID)})))),r)),i.a.createElement("br",null)),o=i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{style:{padding:20}},i.a.createElement("h3",null,"Add New Class"),i.a.createElement("p",null,"Note: Class Code must be unique, if manually typed."),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(ve.a,{id:"demo-simple-select-label"},"Choose Course:"),i.a.createElement(be.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:this.newcourse,style:{width:"100%"}},this.state.COURSE_ARRAY.map((function(e){return i.a.createElement(we.a,{key:e.ID,value:e.ID},e.NAME)})))),i.a.createElement(g.a,{item:!0,xs:4},i.a.createElement(p.a,{id:"outlined-basic",label:"Class Code",value:this.state.classcodetoadd,onChange:this.updateclassname,variant:"outlined"}))),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(ve.a,{id:"demo-simple-select-label2"},"Choose Teacher:"),i.a.createElement(be.a,{labelId:"demo-simple-select-label2",id:"demo-simple-select",onChange:this.newteacher},$e.map((function(e){return i.a.createElement(we.a,{key:e,value:e},Ve[e])})))),i.a.createElement(g.a,{item:!0,xs:4},a))),i.a.createElement("br",null)),i.a.createElement("div",null,i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:6},n),i.a.createElement(g.a,{item:!0,xs:6},o)),i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12},l)),i.a.createElement("div",{style:{maxWidth:"100%"}},i.a.createElement(le.a,{columns:this.state.COLUMNS,data:this.state.CLASS_ARRAY,title:"Classes",localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},toolbar:{nRowsSelected:"{0} row(s) selected"},header:{actions:""},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Type in something to filter results."}}},options:{filtering:!0,pageSize:20,actionsColumnIndex:-1},detailPanel:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{margin:30}},i.a.createElement("h3",null,"Current students enrolled in ",Je[e.COURSE_ID]," : ",e.CLASS_ID),i.a.createElement("div",null,e.STUDENTS.map((function(e){return i.a.createElement(He.a,{style:{margin:5},color:"primary",key:e,value:e,icon:i.a.createElement(We.a,null),label:Qe[e],variant:"outlined"})}))),i.a.createElement("br",null)))},editable:{onRowUpdate:function(e,t){return new Promise((function(a,n){t.CLASS_ID!=e.CLASS_ID&&(alert("Sorry, the Class Name is fixed as it is a unique identifier. Please delete this class and create a new one instead."),a());var i={STUDENTS:e.STUDENTS,CLASS_ID:t.CLASS_ID,COURSE_ID:e.COURSE_ID,TEACHER:e.TEACHER,NEXT_DATETIME:e.NEXT_DATETIME};console.log(i),x.a.post("https://zmsedu.com/api/admin/class/edit",i).then((function(e){s.getinitAPIdata(),a()})).catch((function(e){alert(e)}))}))},onRowDelete:function(e){return new Promise((function(t,a){var n={CLASS_ID:e.CLASS_ID};console.log(n),x.a.post("https://zmsedu.com/api/admin/class/delete",n).then((function(e){s.getinitAPIdata(),t()})).catch((function(e){alert(e)}))}))}}})))}}]),a}(i.a.Component),st=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function ct(){var e=st();return i.a.createElement("div",{className:e.root},i.a.createElement(o.a,null),i.a.createElement($,null),i.a.createElement("main",{className:e.content,style:{backgroundColor:"#eee"}},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(j.a,{maxWidth:"lg",className:e.container},i.a.createElement(g.a,{container:!0,spacing:3},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(ot,null))),i.a.createElement(h.a,{pt:4},i.a.createElement(I,null)))))}var dt=function(e){return i.a.createElement(c.a,null,i.a.createElement("div",null,i.a.createElement("div",{style:{padding:"0",margin:"0"}},i.a.createElement(d.c,null,i.a.createElement(d.a,{path:"/admin/dashboard/class"},i.a.createElement(ct,null)),i.a.createElement(d.a,{path:"/admin/dashboard/syllabus"},i.a.createElement(Pe,null)),i.a.createElement(d.a,{path:"/admin/dashboard/courses"},i.a.createElement(Le,null)),i.a.createElement(d.a,{path:"/admin/dashboard/lessons"},i.a.createElement(De,null)),i.a.createElement(d.a,{path:"/admin/dashboard/students"},i.a.createElement(ce,null)),i.a.createElement(d.a,{path:"/admin/dashboard/analytics"},i.a.createElement(ie,null)),i.a.createElement(d.a,{path:"/admin/dashboard/home"},i.a.createElement(te,null)),i.a.createElement(d.a,{path:"/admin"},i.a.createElement(A,null))))))},mt=a(148),ut=a(143),pt=Object(ut.a)({palette:{primary:{main:"#9b1c31"},secondary:{main:"#565f66"},error:{main:mt.a.A400},background:{default:"#fff"}}});l.a.render(i.a.createElement(s.a,{theme:pt},i.a.createElement(o.a,null),i.a.createElement(dt,null)),document.querySelector("#root"))}},[[452,1,2]]]);
//# sourceMappingURL=main.90095a43.chunk.js.map